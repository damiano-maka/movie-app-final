import{a as U}from"./chunk-RGMSZVUI.js";import"./chunk-2IFHHCGT.js";import{a as J}from"./chunk-KKMIFJRA.js";import{a as H}from"./chunk-DWZXBQFY.js";import{a as w}from"./chunk-NBK4MX2W.js";import{$a as O,Aa as R,Ca as _,Da as g,F as S,Fa as T,Ha as o,Ia as V,Ja as x,La as $,Ma as A,Na as F,Oa as j,P as d,Q as C,U as u,V as v,Ya as L,Za as N,ab as P,c as b,ca as k,eb as z,gb as W,ha as D,hb as B,ia as s,ja as M,ka as E,qa as p,sa as h,ta as I,xa as n,ya as i,za as f}from"./chunk-UZ4CZCYJ.js";function K(r,l){r&1&&(n(0,"span",24),o(1,"Movie added successfully!"),i())}function Q(r,l){r&1&&(n(0,"span",25),o(1,"Oops, something went wrong! "),i())}var Y=r=>["/player",r];function Z(r,l){if(r&1){let t=R();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2",6),o(6),i(),n(7,"p",7),o(8),i(),n(9,"p",8),o(10),i(),n(11,"dl",9)(12,"div",10)(13,"dt",11)(14,"b"),o(15,"Tagline : "),i()(),n(16,"dd",12),o(17),i()(),n(18,"div",13)(19,"button",14),o(20," Watch Now ! "),i(),f(21,"div",15),n(22,"div",16)(23,"button",17),_("click",function(){let m=u(t),c=g();return v(c.addMovie(c.movie,m.nickname))}),o(24," Add to wishlist ! "),i(),h(25,K,2,0,"span",18)(26,Q,2,0,"span",19),i()()()()(),f(27,"img",20),i()(),n(28,"div",21)(29,"p"),o(30,"Recommendations of the same category"),i()(),n(31,"div",22)(32,"app-slider-drag",23),_("slideClicked",function(a){u(t);let m=g();return v(m.clickRecom(a))}),i()(),n(33,"div",21)(34,"p"),o(35,"Scroll left/right for other movies"),i()()()}if(r&2){let t=g();s(6),x(" Status: ",t.movie==null?null:t.movie.status," "),s(2),x(" ",t.movie==null?null:t.movie.title," "),s(2),x(" ",t.movie==null?null:t.movie.overview," "),s(7),V(t.movie==null?null:t.movie.tagline),s(2),p("routerLink",A(9,Y,t.movie==null?null:t.movie.id)),s(6),p("ngIf",t.isSuccess===!0),s(1),p("ngIf",t.isSuccess===!1),s(1),T("src","https://image.tmdb.org/t/p/w500/",t.movie.poster_path,"",k),s(5),p("movie",t.movies())}}var xe=(()=>{let l=class l{constructor(e){this.changeDetectorRef=e,this.http=d(P),this.activatedRoute=d(z),this.service=d(H),this.movies=D([]),this.router=d(W),this.usersService=d(U),this.user$=d(w).user$,this.auth=d(w)}goWatch(e){window.location.href=`https://embed.smashystream.com/playere.php?tmdb=${e}`}clickRecom(e){this.router.navigate([`/m/${e.id}`]),console.log(e),this.movie=e,window.scrollTo(0,0)}ngOnInit(){this.activatedRoute.params.pipe(S(e=>this.service.loadSingle(e.id))).subscribe(e=>{this.movie=e}),this.getSlider()}getSlider(){this.service.loadMovies(1).subscribe({next:e=>{this.movies.set(e.results)},error:e=>{}})}addMovie(e,a){return b(this,null,function*(){let m=a,c={backdrop_path:e.backdrop_path,poster_path:e.poster_path,title:e.title,id:JSON.stringify(e.id)},{backdrop_path:X,poster_path:q,title:G,id:y}=c;try{yield this.usersService.addMovie({backdrop_path:X,poster_path:q,title:G,id:y},y,m),this.isSuccess=!0,this.changeDetectorRef.detectChanges()}catch{this.isSuccess=!1,this.changeDetectorRef.detectChanges()}})}};l.\u0275fac=function(a){return new(a||l)(M(E))},l.\u0275cmp=C({type:l,selectors:[["app-movie-details"]],standalone:!0,features:[$],decls:2,vars:3,consts:[["class","overflow-hidden bck py-5 sm:py-32"],[1,"overflow-hidden","bck","py-5","sm:py-32"],[1,"mx-auto","max-w-7xl","px-6","lg:px-8"],[1,"mx-auto","grid","max-w-2xl","grid-cols-1","gap-x-8","gap-y-16","sm:gap-y-20","lg:mx-0","lg:max-w-none","lg:grid-cols-2"],[1,"lg:pr-8","lg:pt-3"],[1,"lg:max-w-lg","lg:py-28"],[1,"text-base","font-semibold","leading-7","text-gray-400"],[1,"mt-2","text-5xl","font-bold","tracking-tight","text-gray-200","sm:text-5xl"],[1,"mt-6","text-lg","leading-8","text-white"],[1,"mt-5","max-w-xl","space-y-8","text-base","leading-7","text-gray-600","lg:max-w-none"],[1,"relative","text-lg"],[1,"inline","font-semibold","text-gray-400"],[1,"inline","text-white"],[1,"flex","w-full","justify-center"],[1,"grid","h-10","card","btn","btn-error","hover:text-white",3,"routerLink"],[1,"divider","divider-horizontal"],[1,"flex","flex-col"],[1,"grid","h-10","card","btn","btn-success",3,"click"],["class","mt-3 inline-flex items-center rounded-md bg-success px-2 py-1 text-xs font-medium text-white ring-1 ring-inset ring-green-600/20 mt-3",4,"ngIf"],["class","mt-3 inline-flex items-center rounded-md bg-error px-2 py-1 text-xs font-medium text-white ring-1 ring-inset ring-red-600/10",4,"ngIf"],["width","200","height","200","alt","Product screenshot",1,"rounded-xl","shadow-xl","ring-1","ring-gray-400/10","w-full",3,"src"],[1,"divider","divider-vertical","text-white","divider-neutral"],[1,"ml-3","mr-3"],[3,"movie","slideClicked"],[1,"mt-3","inline-flex","items-center","rounded-md","bg-success","px-2","py-1","text-xs","font-medium","text-white","ring-1","ring-inset","ring-green-600/20","mt-3"],[1,"mt-3","inline-flex","items-center","rounded-md","bg-error","px-2","py-1","text-xs","font-medium","text-white","ring-1","ring-inset","ring-red-600/10"]],template:function(a,m){if(a&1&&(h(0,Z,36,11,"div",0),F(1,"async")),a&2){let c;I(0,(c=j(1,1,m.user$))?0:-1,c)}},dependencies:[O,L,N,J,B],changeDetection:0});let r=l;return r})();export{xe as default};
