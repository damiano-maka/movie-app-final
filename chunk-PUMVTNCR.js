import{a as E}from"./chunk-Y7KSNLX2.js";import{a as j}from"./chunk-VLB4QT3Q.js";import{a as R}from"./chunk-DWZXBQFY.js";import{Aa as _,Ca as m,Da as l,Ga as v,Ha as g,La as D,P as p,Q as S,U as s,V as d,gb as F,ha as k,ia as h,ka as y,qa as C,sa as f,ta as x,ua as T,va as b,wa as V,xa as c,ya as o}from"./chunk-UZ4CZCYJ.js";function $(e,i){e&1&&(c(0,"div",7)(1,"h1"),g(2,"No Results Found"),o()())}function I(e,i){if(e&1){let r=_();c(0,"app-card",10),m("cardClicked",function(t){s(r);let a=l(3);return d(a.movieClick(t))}),o()}if(e&2){let r=l().$implicit;C("movie",r)}}function O(e,i){if(e&1){let r=_();c(0,"app-series",11),m("cardClicked",function(t){s(r);let a=l(3);return d(a.serieClick(t))}),o()}if(e&2){let r=l().$implicit;C("serie",r)}}function B(e,i){if(e&1&&f(0,I,1,1,"app-card",9)(1,O,1,1),e&2){let r=i.$implicit;x(0,r.media_type=="movie"?0:1)}}function N(e,i){if(e&1&&(c(0,"div",8),b(1,B,2,1,null,null,T),o()),e&2){let r=l();h(1),V(r.movies())}}var L=(()=>{let i=class i{constructor(){this.tmdbService=p(R),this.movies=k([]),this.router=p(F),this.changeDetectorRef=p(y),this.error=!1}movieClick(n){this.router.navigate(["/m",n.id]),window.scrollTo(0,0)}serieClick(n){this.router.navigate(["/s",n.id]),window.scrollTo(0,0)}getSearch(n){n.value.trim()&&this.tmdbService.loadSearch(n.value).subscribe({next:t=>{t.results.length>0?(this.movies.set(t.results),this.changeDetectorRef.detectChanges(),n.value="",this.changeDetectorRef.detectChanges()):(this.error=!0,this.changeDetectorRef.detectChanges(),n.value="")},error:t=>{console.log(t)}})}ngOnInit(){}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=S({type:i,selectors:[["app-search"]],standalone:!0,features:[D],decls:9,vars:1,consts:[[1,"vh"],[1,"flex","justify-center","gap-5","p-5"],[1,"form-control","w-full","max-w-xs"],["type","text","placeholder","Type here",1,"input","input-bordered","w-full","max-w-xs","text-gray-300",2,"background-color","var(--sfondo-scuro)",3,"keydown.enter"],["input",""],[1,"btn","text-gray-200",2,"background-color","var(--sfondo-list)",3,"click"],["class"," p-5 vh-45 text-center text-2xl text-white"],[1,"p-5","vh-45","text-center","text-2xl","text-white"],[1,"flex","flex-wrap","gap-3","mt-5","p-2","justify-center"],[3,"movie"],[3,"movie","cardClicked"],[3,"serie","cardClicked"]],template:function(t,a){if(t&1){let w=_();c(0,"div",0)(1,"div",1)(2,"label",2)(3,"input",3,4),m("keydown.enter",function(){s(w);let u=v(4);return d(a.getSearch(u))}),o()(),c(5,"button",5),m("click",function(){s(w);let u=v(4);return d(a.getSearch(u))}),g(6," Search "),o()(),f(7,$,3,0,"div",6)(8,N,3,0),o()}t&2&&(h(7),x(7,a.error?7:8))},dependencies:[E,j],styles:[".vh[_ngcontent-%COMP%]{min-height:60vh}"],changeDetection:0});let e=i;return e})();export{L as default};
